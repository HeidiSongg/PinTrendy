{"ast":null,"code":"var _jsxFileName = \"/Users/heidisong/Desktop/App_Academy/Project/PinTrendy/react-app/src/components/Navigation/ProfileButton.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { useDispatch } from \"react-redux\";\nimport { logout } from \"../../store/session\";\nimport OpenModalButton from \"../OpenModalButton\";\nimport LoginFormModal from \"../LoginFormModal\";\nimport SignupFormModal from \"../SignupFormModal\";\nimport { useModal } from \"../../context/Modal\";\nimport * as sessionActions from '../../store/session';\nimport './Navigation.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction ProfileButton(_ref) {\n  _s();\n  let {\n    user\n  } = _ref;\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const [showMenu, setShowMenu] = useState(false);\n  const ulRef = useRef();\n  const {\n    closeModal\n  } = useModal();\n  const openMenu = () => {\n    if (showMenu) return;\n    setShowMenu(true);\n  };\n  useEffect(() => {\n    if (!showMenu) return;\n    const closeMenu = e => {\n      if (!ulRef.current.contains(e.target)) {\n        setShowMenu(false);\n      }\n    };\n    document.addEventListener(\"click\", closeMenu);\n    return () => document.removeEventListener(\"click\", closeMenu);\n  }, [showMenu]);\n  const handleLogout = e => {\n    e.preventDefault();\n    dispatch(logout());\n    history.push(\"/\");\n  };\n  const handleUserDetails = e => {\n    e.preventDefault();\n    history.push('/user_details');\n  };\n  const ulClassName = \"profile-dropdown\" + (showMenu ? \"\" : \" hidden\");\n  const closeMenu = () => setShowMenu(false);\n  const demoSubmit = e => {\n    e.preventDefault();\n    closeModal();\n    return dispatch(sessionActions.demoLogin());\n  };\n  let ifUser = () => {\n    if (user) {\n      return /*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"profile-button-img\",\n        src: \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRF4qeCcgDwO-sUBZyI6u2Lg7i7MoN4NC7xTw&usqp=CAU\",\n        alt: \"\",\n        onClick: openMenu\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this);\n    } else {\n      return (\n        /*#__PURE__*/\n        // <button style={{fontSize: \"20px\"}} className=\"profile-button-img-logged-out\" onClick={openMenu}>\n        //   <i class=\"fa-regular fa-user\"></i>\n        // </button>\n        _jsxDEV(\"img\", {\n          className: \"profile-button-img\",\n          src: \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRF4qeCcgDwO-sUBZyI6u2Lg7i7MoN4NC7xTw&usqp=CAU\",\n          alt: \"\",\n          onClick: openMenu\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 9\n        }, this)\n      );\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [ifUser(), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile-button-container-dropdown\",\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: ulClassName,\n        ref: ulRef,\n        children: user ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"logged-in-profile-dropdown-user-info-div\",\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"logged-in-profile-dropdown-user-info\",\n              children: user.firstName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 18\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"logged-in-profile-dropdown-user-info\",\n            children: user.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"logged-in-profile-dropdown\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"user-details-button\",\n              onClick: handleUserDetails,\n              children: \"User Details\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 58\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"logged-in-profile-dropdown\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"logout-button\",\n              onClick: handleLogout,\n              children: \"Log Out\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile-button-container-dropdown-logged-out\",\n          children: [/*#__PURE__*/_jsxDEV(OpenModalButton, {\n            className: \"profile-button-log-in\",\n            buttonText: \"Login\",\n            onItemClick: closeMenu,\n            modalComponent: /*#__PURE__*/_jsxDEV(LoginFormModal, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(OpenModalButton, {\n            className: \"profile-button-sign-up\",\n            buttonText: \"Sign Up\",\n            onItemClick: closeMenu,\n            modalComponent: /*#__PURE__*/_jsxDEV(SignupFormModal, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            className: \"demo-login-div\",\n            onSubmit: demoSubmit,\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"demo-login\",\n              children: \"Demo Login\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(ProfileButton, \"HKPw4LyX3f5RUE+UY4Ox1/v7Y0g=\", false, function () {\n  return [useDispatch, useHistory, useModal];\n});\n_c = ProfileButton;\nexport default ProfileButton;\nvar _c;\n$RefreshReg$(_c, \"ProfileButton\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useHistory","useDispatch","logout","OpenModalButton","LoginFormModal","SignupFormModal","useModal","sessionActions","ProfileButton","user","dispatch","history","showMenu","setShowMenu","ulRef","closeModal","openMenu","closeMenu","e","current","contains","target","document","addEventListener","removeEventListener","handleLogout","preventDefault","push","handleUserDetails","ulClassName","demoSubmit","demoLogin","ifUser","firstName","email"],"sources":["/Users/heidisong/Desktop/App_Academy/Project/PinTrendy/react-app/src/components/Navigation/ProfileButton.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { useDispatch } from \"react-redux\";\nimport { logout } from \"../../store/session\";\nimport OpenModalButton from \"../OpenModalButton\";\nimport LoginFormModal from \"../LoginFormModal\";\nimport SignupFormModal from \"../SignupFormModal\";\nimport { useModal } from \"../../context/Modal\";\nimport * as sessionActions from '../../store/session';\nimport './Navigation.css';\n\nfunction ProfileButton({ user }) {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const [showMenu, setShowMenu] = useState(false);\n  const ulRef = useRef();\n  const { closeModal } = useModal();\n\n  const openMenu = () => {\n    if (showMenu) return;\n    setShowMenu(true);\n  };\n\n  useEffect(() => {\n    if (!showMenu) return;\n\n    const closeMenu = (e) => {\n      if (!ulRef.current.contains(e.target)) {\n        setShowMenu(false);\n      }\n    };\n\n    document.addEventListener(\"click\", closeMenu);\n\n    return () => document.removeEventListener(\"click\", closeMenu);\n  }, [showMenu]);\n\n  const handleLogout = (e) => {\n    e.preventDefault();\n    dispatch(logout());\n    history.push(\"/\");\n  };\n\n  const handleUserDetails = (e) => {\n    e.preventDefault();\n    history.push('/user_details')\n  };\n\n  const ulClassName = \"profile-dropdown\" + (showMenu ? \"\" : \" hidden\");\n  const closeMenu = () => setShowMenu(false);\n\n  const demoSubmit = (e) => {\n    e.preventDefault();\n    closeModal()\n    return dispatch(sessionActions.demoLogin());\n  };\n\n  let ifUser = () => {\n    if (user) {\n      return (\n        <img className=\"profile-button-img\" src={\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRF4qeCcgDwO-sUBZyI6u2Lg7i7MoN4NC7xTw&usqp=CAU\"} alt='' onClick={openMenu}></img>\n      )\n    } else {\n      return (\n        // <button style={{fontSize: \"20px\"}} className=\"profile-button-img-logged-out\" onClick={openMenu}>\n        //   <i class=\"fa-regular fa-user\"></i>\n        // </button>\n        <img className=\"profile-button-img\" src={\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRF4qeCcgDwO-sUBZyI6u2Lg7i7MoN4NC7xTw&usqp=CAU\"} alt='' onClick={openMenu}></img>\n      )\n    }\n  }\n\n  return (\n    <>\n      {ifUser()}\n      <div className=\"profile-button-container-dropdown\">\n        <ul className={ulClassName} ref={ulRef}>\n          {user ? (\n            <div className=\"logged-in-profile-dropdown-user-info-div\">\n              <b><li className=\"logged-in-profile-dropdown-user-info\">{user.firstName}</li></b>\n              <li className=\"logged-in-profile-dropdown-user-info\">{user.email}</li>\n              <li className=\"logged-in-profile-dropdown\"><button className=\"user-details-button\" onClick={handleUserDetails}>User Details</button></li>\n              <li className=\"logged-in-profile-dropdown\">\n                <button className=\"logout-button\" onClick={handleLogout}>Log Out</button>\n              </li>\n            </div>\n          ) : (\n            <div className=\"profile-button-container-dropdown-logged-out\">\n              <OpenModalButton\n                className='profile-button-log-in'\n                buttonText=\"Login\"\n                onItemClick={closeMenu}\n                modalComponent={<LoginFormModal />}\n              />\n\n              <OpenModalButton\n                className='profile-button-sign-up'\n                buttonText=\"Sign Up\"\n                onItemClick={closeMenu}\n                modalComponent={<SignupFormModal />}\n              />\n\n              <form className=\"demo-login-div\" onSubmit={demoSubmit}>\n                <button className=\"demo-login\">Demo Login</button>\n              </form>\n            </div>\n          )}\n        </ul>\n      </div>\n    </>\n  );\n}\n\nexport default ProfileButton;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}